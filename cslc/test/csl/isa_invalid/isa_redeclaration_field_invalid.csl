//illegal: redeclaration field

csl_enum e_field{
    ADD = 0,
    SUB = 1
};

csl_isa_field op(2, e_field);
csl_isa_field field(2);

csl_isa_element format{
    op op_i;
    field field_i;
    format(){
       set_type(instr_format);
       set_width(4);            
       set_position(op_i, 2);
       set_next(op_i,field_i);
    }
};

csl_isa_element format2:format{
    op op_i;           // op_i is inheritanced from format
    field field_i;     //field_i is inheritanced from format
    format2(){
	set_type(instr_format);
       set_width(4);            
       set_position(op_i, 2);  //op_i has already set the position
       set_next(op_i,field_i); //field_i has already set the position
    }
};

csl_isa_element add1 : format{
     add1(){
	 set_type(instr);
         op.set_enum_item(ADD);  
     }
};

csl_isa_element sub1 : format2{  
     sub1(){
	  set_type(instr);
          op.set_enum_item(SUB);
     }
};
