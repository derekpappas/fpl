//danielt
//28.11.2007

csl_fifo fifo_m1{
  fifo_m1(){
    set_width(32);
    set_depth(8);
  }
};

csl_fifo fifo_m2{
  fifo_m2(){
    set_width(32);
    set_depth(16);
  }
};

csl_register_file reg_file{
  reg_file(){
    set_width(32);
    set_depth(128);
  }
};

csl_unit mem{
  csl_port data_in(input,32), data_out(output,32),clk(input);
  csl_port p1(input);
  csl_port p2(input);
  csl_port p3(output);
  csl_port p4(output);
  csl_port p5(input,7);
  csl_port p6(input,7);
  csl_port p7(input);
  csl_port p8(input,7);
  csl_port p9(output);
  csl_port p10(input);
  csl_port p11(input);
  csl_port p12(input);
  csl_port p13(output);
  csl_port p14(output,32);
  fifo_m1 fifo_m1(.push(p1),.pop(p2),.full(p3),.empty(p4),.reset_(p7),.wr_data(data_in),.rd_data(data_out),.clock(clk),.valid(p9));
  fifo_m2 fifo_m2(.push(p1),.pop(p2),.full(p3),.empty(p4),.reset_(p7),.wr_data(data_in),.rd_data(data_out),.clock(clk),.valid(p9));
  reg_file reg_file(.reset(p1),.clear(p2),.wr_addr(p5),.rd_addr0(p6),.rd_addr1(p8),.data_in(data_in),.data_out0(data_out),.clock(clk),.data_out1(p14),.wr_en(p10),.rd_en0(p11),.rd_en1(p12),.valid(p13));
  mem(){
  }
};
