//andreim
//03 November 2007
//testing FIFO as DUT with multiple clock ports

csl_fifo fifo_dut{
   
   fifo_dut(){
      set_depth ( 16);
      set_width (  4);
      add_logic (async_fifo);
   }  
};

csl_vector stim_vec{
   stim_vec(){
      set_unit_name ( fifo_dut );
      set_direction   ( input );
   }
};

csl_vector exp_vec{
   exp_vec(){
      set_unit_name ( fifo_dut );
      set_direction   ( output );
   }
};

csl_unit u{
  csl_port p1(input);
  csl_port p2(input);
  csl_port p3(output);
  csl_port p4(output);
  csl_port p5(output,4);
  csl_port p6(input,4);
  csl_port p7(input);
  csl_port p8(input);
  csl_port p9(output);
  csl_port p10(input);
  csl_port p11(input);
  fifo_dut ff1(.push(p1),.pop(p2),.full(p3),.empty(p4),.rd_data(p5),.wr_data(p6),.reset_(p7),.clock(p8),.valid(p9),.wr_clock(p10),.rd_clock(p11));  
 
  u(){}
};


csl_testbench tb{
  csl_signal clk(reg);
   fifo_dut fifo_dut_;
   tb(){
         clk.set_attr(clock);
         add_logic(clock, clk,2,ns);
      }
};
