//6 Oct 2007
//andreim
//Testbench test: DUT with ifc + ports

csl_interface ifc{
   csl_port stim_in_0 ( input  );
   csl_port stim_in_1 ( input  );
   csl_port exp_out_0 ( output );
   csl_port exp_out_1 ( output );
   ifc(){
   }
};

csl_unit DUT{
   csl_port clk ( input );
   ifc ifc1;
   csl_port stim_in2  ( input  );
   csl_port stim_in3  ( input  );
   csl_port exp_out_2 ( output );
   csl_port exp_out_3 ( output );
   DUT(){
      clk.set_attr ( clock );
   }
};

csl_vector stim_vec{
   stim_vec(){
      set_unit_name ( DUT );
      set_direction   ( input );
   }
};

csl_vector exp_vec{
   exp_vec(){
      set_unit_name ( DUT );
      set_direction   ( output );
   }
};


csl_unit a {
  csl_port p1(input);
  csl_port p2(input);
  csl_port p3(output);
  csl_port p4(output);
  csl_port p5(input);
  csl_port p6(input);
  csl_port p7(input);
  csl_port p8(output);
  csl_port p9(output);
  DUT dut1(.ifc1.stim_in_0(p1),.ifc1.stim_in_1(p2),.ifc1.exp_out_0(p3),.ifc1.exp_out_1(p4),.clk(p5),.stim_in2(p6),.stim_in3(p7),.exp_out_2(p8),.exp_out_3(p9));
  a (){}
};

csl_testbench tb{
  csl_signal clk(reg);
   DUT DUT_;
   tb(){
         clk.set_attr ( clock );
         add_logic(clock, clk,2,ns);
      }
};
