//Monica
//15 January 2008
// hierarchical port to port connections

csl_unit test3{
  csl_port in1(input,2),in2(input,4);
  csl_port out1(output,2),out2(output,4);
  csl_port out3(output),in3(input);

  test3(){}
};
csl_unit top1{
  csl_port p_in1(input,2),p_in2(input,4),p_out1(output,2),p_out2(output,4);
  test3 test3;
  top1(){
    test3.in1.connect_by_name(p_in1);
    test3.in2.connect_by_name(p_in2);
    test3.out1.connect_by_name(p_out1);
    test3.out2.connect_by_name(p_out2);
  }};
csl_unit top2{
  csl_port p1(input,2),p2(input,4),p3(input),p4(output),p5(output,4);
  top1 top1;
  top2(){
    top1.p_in1.connect_by_name(p1);
    top1.p_in2.connect_by_name(p2);
    top1.test3.in3.connect_by_name(p3);
    top1.test3.out3.connect_by_name(p4);
    top1.p_out2.connect_by_name(p5);
  }};
