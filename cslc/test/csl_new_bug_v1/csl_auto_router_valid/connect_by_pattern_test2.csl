//Monica
// 21 may 2008

csl_register r1{
  r1(){
    set_type(register);
    set_width(8);
  }};
csl_unit u1{
  csl_port p1(input,8);
  csl_port p2(input,4);
  csl_port p3(output,8);
  csl_signal rst,en,clk;
  r1 r10(.reset_(rst),.enable(en),.clock(clk));
  u1(){}
};
csl_unit u2{
  csl_port p1(input,8);
  csl_port p2(output,8);
  csl_signal s2(4);
  u1 u10(.p1(p1),.p2(s2),.p3(p2));
  u2(){
    p1.connect_by_pattern(r10.reg_in);  //by pattern
  }};
csl_unit u3{
  csl_signal s(8);
  u2 u20(.p1(s),.p2(s));
  u3(){
    u20.p2.connect_by_pattern(r10.reg_out); //by pattern
  }
};
