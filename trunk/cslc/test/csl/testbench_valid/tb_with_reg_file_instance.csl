//Monica
// 14 november 2007

csl_register_file reg_f{
  reg_f(){
    set_width(5);
    set_depth(32);
  }
};
csl_unit dut{
 
  csl_port in_v(input,1);//, in_d(input, 8);
  //csl_port out_v(output, 1), out_d(output, 8);
  csl_port clk(input);
 csl_port p2(input);
 // csl_port p3(input);                  
   csl_port p4(input,5);
   csl_port p5(input,5);
   csl_port p6(input,5);
   csl_port p7(input,5);
   csl_port p8(output,5);
   csl_port p9(output,5);
   csl_port p10(input);
   csl_port p11(input);
   csl_port p12(input);
   csl_port p13(output);
 reg_f reg1_f(.reset(in_v),.clear(p2),.clock(clk),.wr_addr(p4),.rd_addr0(p5),.rd_addr1(p6),.data_in(p7),.data_out0(p8),.data_out1(p9),.wr_en(p10),.rd_en0(p11),.rd_en1(p12),.valid(p13));
dut(){
  clk.set_attr(clock);
}
};
csl_vector stim{
stim(){
set_vc_header_comment("stimulus_vector");
set_vc_output_filename("stim_data_out");
set_unit_name ( dut );
set_direction ( input );
}
};
csl_vector exp{
exp(){
set_vc_header_comment("expected_vector");
set_vc_output_filename("exp_data_out");
set_unit_name ( dut );
set_direction ( output );
}
};
csl_testbench tb{
  csl_signal clk(reg);
dut dut_i;

tb(){
clk.set_attr(clock);
add_logic(clock,clk,10,ps);
}};
