CC=/usr/bin/g++
CFLAGS=-g -Wall -o
SHELLREQUIREDLIBS=-lreadline -ltermcap
MAKEPATH=./
CSIMLIBPATH=$$WORK/trunk/build/linux/x86_64/csim/
ADDITIONALINCLUDE=$$WORK/trunk/src/csim/
CSIMLIBNAME=Csim
CSIMSHLIBNAME=CsimShell
GENPATHOBJ=csim/
GENNAME=gen
USERPATHOBJ=csim/user/
USERNAME=user
MAINPATH=$$WORK/trunk/build_utils/
#MAINLIB=main
MAINFILE=$$WORK/trunk/build_utils/main.cpp
EXECUTABLE=mainBinary

all: libgen libuser
#	$(CC) $(SHELLREQUIREDLIBS) $(CFLAGS) $(EXECUTABLE) -I$(ADDITIONALINCLUDE) -L$(MAINPATH) -l$(MAINLIB) -L$(CSIMLIBPATH) -l$(CSIMSHLIBNAME) -L$(USERPATHOBJ) -l$(USERNAME) -L$(GENPATHOBJ) -l$(GENNAME) -l$(CSIMLIBNAME) -lgcov
	$(CC) $(SHELLREQUIREDLIBS) $(CFLAGS) $(EXECUTABLE) -I$(ADDITIONALINCLUDE) $(MAINFILE) -L$(CSIMLIBPATH) -l$(CSIMSHLIBNAME) -L$(USERPATHOBJ) -l$(USERNAME) -L$(GENPATHOBJ) -l$(GENNAME) -l$(CSIMLIBNAME) -lgcov

libgen:
	make -f $(MAKEPATH)Makelib PATHOBJ=$(GENPATHOBJ) NAME=$(GENNAME)

libuser:
	make -f $(MAKEPATH)Makelib PATHOBJ=$(USERPATHOBJ) NAME=$(USERNAME)

clean:
	rm -rf $(USERPATHOBJ)*o $(USERPATHOBJ)*a $(GENPATHOBJ)*o $(GENPATHOBJ)*a
